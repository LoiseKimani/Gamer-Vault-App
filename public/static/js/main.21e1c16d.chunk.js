(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(6),o=n.n(s),i=(n(11),n(2)),u=n(3),a=n(5),h=n(0);var l=function(e){var t=e.setUser,n=Object(r.useState)({username:"",email:"",password:""}),c=Object(i.a)(n,2),s=c[0],o=c[1],l=function(e){o(Object(a.a)(Object(a.a)({},s),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("http://localhost:3000/users/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){return t(e.user)})).catch((function(e){return console.error("Error signing in:",e)}))},children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(h.jsx)("input",{type:"text",id:"username",name:"username",value:s.username,onChange:l}),Object(h.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(h.jsx)("input",{type:"text",id:"email",name:"email",value:s.email,onChange:l}),Object(h.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(h.jsx)("input",{type:"password",id:"password",name:"password",value:s.password,onChange:l}),Object(h.jsx)("button",{type:"submit",children:"Sign In"})]})};var j=function(e){var t=e.setUser;return Object(h.jsx)("button",{onClick:function(){fetch("http://localhost:3000/users/signout",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(){return t(null)})).catch((function(e){return console.error("Error signing out:",e)}))},children:"Sign Out"})};var f=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){fetch("http://localhost:3000/reviews").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"All Reviews"}),n.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:e.name}),Object(h.jsx)("p",{children:e.comment}),Object(h.jsxs)("p",{children:["Rating: ",e.rating,"/5"]}),Object(h.jsxs)("p",{children:["Game ID: ",e.gameId]}),Object(h.jsx)("img",{src:e.image,alt:e.name})]},e.id)}))]})};var b=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),o=Object(i.a)(s,2),u=o[0],a=o[1],b=Object(r.useState)([]),d=Object(i.a)(b,2),O=d[0],p=d[1];return Object(r.useEffect)((function(){fetch("http://localhost:3000/game_reviews").then((function(e){return e.json()})).then((function(e){return a(e)})).catch((function(e){return console.error(e)})),fetch("http://localhost:3000/users").then((function(e){return e.json()})).then((function(e){return p(e)})).catch((function(e){return console.error(e)}))}),[]),Object(h.jsxs)("div",{children:[n?Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:["Welcome, ",n.username,"!"]}),Object(h.jsx)(j,{setUser:c,handleSignOut:function(){fetch("/users/signout",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){return c(null)})).catch((function(e){return console.error(e)}))}}),Object(h.jsx)("button",{onClick:function(){n&&fetch("http://localhost:3000/game_reviews?user_id=".concat(n.id)).then((function(e){return e.json()})).then((function(e){return a(e)})).catch((function(e){return console.error(e)}))},children:"View Your Reviews"})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Sign In"}),Object(h.jsx)(l,{handleSignIn:function(e){fetch("/users/signin",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return c(e.user)})).catch((function(e){return console.error(e)}))}})]}),Object(h.jsx)(f,{reviews:u,users:O})]})},d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),s(e),o(e)}))};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(b,{})}),document.getElementById("root")),d()}},[[13,1,2]]]);
//# sourceMappingURL=main.21e1c16d.chunk.js.map